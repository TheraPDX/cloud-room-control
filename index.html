<!DOCTYPE html>

<html>
<head>
	<title>Door Control Panel</title>
	<link rel="stylesheet" type="text/css" href="css/reset.css">
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-alpha1/jquery.min.js"></script>
</head>

<body>
	<div id="panel">
		<div id="refresh-container">
			<h2 class="status" id="waiting">Waiting<span id="dots"></span></h2>
			<h2 class="status" id="connected">Connected</h2>
			<h2 class="status" id="disconnected">Disconnected</h2>
			<div id="refresh-box">
				<img id="refresh-icon" src="img/refresh.svg" onclick="refresh();rotateImg();waiting()">
			</div>
		</div>
		<div class="cntrl">
			<img class="panel-img" id="light_bulb"  src="img/light_off.svg" onclick="light()">
			<!-- <h2 class="title">Main Light</h2> -->
		</div>
		<div class="cntrl">
			<img class="panel-img" id="lock_pad" src="img/locked.svg" onclick="lock()">
			<!-- <h2 class="title">Room Lock</h2> -->
		</div>
	</div>

	<script src="script/jQueryRotate.js"></script>
	<script src="script/main.js"></script> 
	<script>
		function rotateImg() {
			$("#refresh-icon").rotate({ angle: 0, animateTo:180, duration: 350})
		}

		$('.status').css('display','none');
		$('#waiting').css('display','inline');

		var dots = 0;
		setInterval(waiting, 50);
		function waiting() {
			if (dots < 3) {
				$('#dots').append('.');
				dots++;
			} else {
				$('#dots').html('');
				dots = 0;
			}
		}
	</script>
</body>

</html>